<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tx (amqp-client-async.Amqp_client_async__Spec.Tx)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">amqp-client-async</a> &#x00BB; <a href="../index.html">Amqp_client_async__Spec</a> &#x00BB; Tx</nav><h1>Module <code>Amqp_client_async__Spec.Tx</code></h1><p>The Tx class allows publish and ack operations to be batched into atomic units of work. The intention is that all publish and ack requests issued within a transaction will complete successfully or none of them will. Servers SHOULD implement atomic transactions at least where all publish or ack requests affect a single queue. Transactions that cover multiple queues may be non-atomic, given that queues can be created and destroyed asynchronously, and such events do not form part of any transaction. Further, the behaviour of transactions with respect to the immediate and mandatory flags on Basic.Publish methods is not defined.</p></header><dl><dt class="spec module" id="module-Select_ok"><a href="#module-Select_ok" class="anchor"></a><code><span class="keyword">module</span> <a href="Select_ok/index.html">Select_ok</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This method confirms to the client that the channel was successfully set to use standard transactions.</p></dd></dl><dl><dt class="spec module" id="module-Select"><a href="#module-Select" class="anchor"></a><code><span class="keyword">module</span> <a href="Select/index.html">Select</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This method sets the channel to use standard transactions. The client must use this method at least once on a channel before using the Commit or Rollback methods.</p></dd></dl><dl><dt class="spec module" id="module-Commit_ok"><a href="#module-Commit_ok" class="anchor"></a><code><span class="keyword">module</span> <a href="Commit_ok/index.html">Commit_ok</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This method confirms to the client that the commit succeeded. Note that if a commit fails, the server raises a channel exception.</p></dd></dl><dl><dt class="spec module" id="module-Commit"><a href="#module-Commit" class="anchor"></a><code><span class="keyword">module</span> <a href="Commit/index.html">Commit</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This method commits all message publications and acknowledgments performed in the current transaction. A new transaction starts immediately after a commit.</p></dd></dl><dl><dt class="spec module" id="module-Rollback_ok"><a href="#module-Rollback_ok" class="anchor"></a><code><span class="keyword">module</span> <a href="Rollback_ok/index.html">Rollback_ok</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This method confirms to the client that the rollback succeeded. Note that if an rollback fails, the server raises a channel exception.</p></dd></dl><dl><dt class="spec module" id="module-Rollback"><a href="#module-Rollback" class="anchor"></a><code><span class="keyword">module</span> <a href="Rollback/index.html">Rollback</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This method abandons all message publications and acknowledgments performed in the current transaction. A new transaction starts immediately after a rollback. Note that unacked messages will not be automatically redelivered by rollback; if that is required an explicit recover call should be issued.</p></dd></dl></div></body></html>